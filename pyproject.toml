[tool.poetry]
authors = [
  "Ismael Mendoza <imendoza@umich.edu>",
  "Somwya Kamath",
  "Thomas Sainrat",
  "Maxime Paillasa",
  "Alexandre Boucaud",
  "Remy Joseph",
  "Patricia Burchat",
  "Cyrille Doux",
  "Eric Aubourg",
]
classifiers = [
  "Programming Language :: Python :: 3.8",
  "Programming Language :: Python :: 3.9",
  "Programming Language :: Python :: 3.10",
  "License :: OSI Approved :: MIT License",
  "Operating System :: OS Independent",
]
description = "Blending ToolKit"
keywords = ["cosmology", "galaxies", "blending", "lsst", "simulation"]
license = "MIT"
name = "blending_toolkit"
readme = "README.md"
version = "1.0.0a9"
packages = [{ include = "btk" }]
repository = "https://github.com/LSSTDESC/BlendingToolKit"
homepage = "https://lsstdesc.org/BlendingToolKit/index.html"

[tool.poetry.urls]
"Bug Tracker" = "https://github.com/python-poetry/poetry/issues"

[tool.poetry.dependencies]
numpy = ">=1.22"
astropy = "^5.1"
galcheat = "^1.0.0"
matplotlib = "^3.7.1"
scikit-image = "^0.20.0"
scipy = "^1.9.1"
tqdm = "^4.65.0"
sep = "^1.2.1"
galsim = "^2.4.9"
python = "^3.8.1,<3.12"

[tool.poetry.dev-dependencies]
black = "^23.3.0"
flake8 = "^6.0.0"
flake8-absolute-import = ">=1.0.0"
isort = ">=5.12.0"
jupyter = ">=1.0.0"
jupyter-sphinx = ">=0.4.0"
nbconvert = ">=7.4.0"
nbmake = ">=1.4.1"
nbstripout = ">=0.6.1"
pre-commit = ">=3.3.2"
pydocstyle = ">=6.3.0"
pylint = ">=2.11.1"
pytest = ">=7.3.1"
pytest-cov = ">=4.1.0"
sphinx = ">=4.2.0"
sphinx-rtd-theme = ">=1.2.1"

[tool.poetry.group.scarlet]
optional = true

[tool.poetry.group.scarlet.dependencies]
peigen = "^0.0.9"
autograd = "^1.5"
proxmin = "^0.6.12"

[build-system]
build-backend = "poetry.core.masonry.api"
requires = ["poetry-core>=1.0.0"]

[tool.black]
line-length = 100
target-version = ['py38', 'py39', 'py310']

[tool.isort]
multi_line_output = 3
profile = "black"
include_trailing_comma = true
force_grid_wrap = 0
use_parentheses = true
ensure_newline_before_comments = true
line_length = 100

[tool.pytest.ini_options]
addopts = "-ra"
filterwarnings = [
  "ignore:the imp module is deprecated:DeprecationWarning",
  "ignore:`np.int` is a deprecated alias:DeprecationWarning",
  "ignore:numpy.ufunc size changed:RuntimeWarning",
  "ignore:Creating an ndarray from ragged:numpy.VisibleDeprecationWarning",
  "ignore:numpy.ndarray size changed, may indicate binary incompatibility. Expected 80 from C header:RuntimeWarning:",
  "ignore:.*argument to IPyNbFile is deprecated.*:pytest.PytestRemovedIn8Warning",
  "ignore:.*",
]
minversion = "6.0"
testpaths = ["tests"]

[tool.pydocstyle]
convention = "google"
inherit = false
match = "(?!test_).*\\.py"

[tool.pylint."MESSAGES CONTROL"]
disable = """
          too-many-arguments,
          too-many-instance-attributes,
          c-extension-no-member,
          unused-argument
      """
good-names = [
  "x",
  "y",
  "xs",
  "ys",
  "x1",
  "y1",
  "x2",
  "y2",
  "f",
  "b1",
  "b2",
  "c",
  "ii",
  "jj",
  "c1",
  "c2",
  "n",
  "ra",
  "dec",
  "t",
  "tp",
  "fp",
  "p",
  "i",
  "u",
  "h",
  "w",
]
